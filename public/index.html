<!--<!DOCTYPE html>-->
<!--<html>-->
<!--  <head>-->
<!--    <meta charset="utf-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->

<!--    &lt;!&ndash; update the version number as needed &ndash;&gt;-->
<!--    <script defer src="/__/firebase/7.5.0/firebase-app.js"></script>-->
<!--    &lt;!&ndash; include only the Firebase features as you need &ndash;&gt;-->
<!--    <script defer src="/__/firebase/7.5.0/firebase-database.js"></script>-->
<!--    &lt;!&ndash; initialize the SDK after all desired features are loaded &ndash;&gt;-->
<!--    <script defer src="/__/firebase/init.js"></script>-->
<!--    <title>Welcome to WatchTogether</title>-->
<!--  </head>-->
<!--  <body>-->
<!--    <div id="player">-->
<!--&lt;!&ndash;              <iframe width="560" height="315" src="https://www.youtube.com/embed/eMygau1Yy_0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>&ndash;&gt;-->
<!--    </div>-->


<!--&lt;!&ndash;    <div id="message">&ndash;&gt;-->
<!--&lt;!&ndash;      <h2>Welcome</h2>&ndash;&gt;-->
<!--&lt;!&ndash;      <h1>Firebase Hosting Setup Complete</h1>&ndash;&gt;-->
<!--&lt;!&ndash;      <p>You're seeing this because you've successfully setup Firebase Hosting. Now it's time to go build something extraordinary!</p>&ndash;&gt;-->
<!--&lt;!&ndash;      <a target="_blank" href="https://firebase.google.com/docs/hosting/">Open Hosting Documentation</a>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;    <p id="load">Firebase SDK Loading&hellip;</p>&ndash;&gt;-->

<!--&lt;!&ndash;    <script>&ndash;&gt;-->
<!--&lt;!&ndash;      document.addEventListener('DOMContentLoaded', function() {&ndash;&gt;-->
<!--&lt;!&ndash;        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥&ndash;&gt;-->
<!--&lt;!&ndash;        // // The Firebase SDK is initialized and available here!&ndash;&gt;-->
<!--&lt;!&ndash;        //&ndash;&gt;-->
<!--&lt;!&ndash;        // firebase.auth().onAuthStateChanged(user => { });&ndash;&gt;-->
<!--&lt;!&ndash;        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });&ndash;&gt;-->
<!--&lt;!&ndash;        // firebase.messaging().requestPermission().then(() => { });&ndash;&gt;-->
<!--&lt;!&ndash;        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });&ndash;&gt;-->
<!--&lt;!&ndash;        //&ndash;&gt;-->
<!--&lt;!&ndash;        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥&ndash;&gt;-->

<!--&lt;!&ndash;        try {&ndash;&gt;-->
<!--&lt;!&ndash;          let app = firebase.app();&ndash;&gt;-->
<!--&lt;!&ndash;          let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');&ndash;&gt;-->
<!--&lt;!&ndash;          document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;&ndash;&gt;-->
<!--&lt;!&ndash;        } catch (e) {&ndash;&gt;-->
<!--&lt;!&ndash;          console.error(e);&ndash;&gt;-->
<!--&lt;!&ndash;          document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;      });&ndash;&gt;-->
<!--&lt;!&ndash;    </script>&ndash;&gt;-->
<!--  </body>-->

<!--  <script>src ="./functions/index.js"</script>-->
<!--  <script>src="./public/youtube.js"</script>-->
<!--</html>-->

<!DOCTYPE html>
<html>

<header>
  <h1>WatchTogether Player</h1>
</header>
<div id="player">
  <!--        <iframe width="560" height="315" src="http://www.youtube.com/embed/eMygau1Yy_0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
</div>

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<!--<script src="/__/firebase/7.5.0/firebase-app.js"></script>-->
<!--<script src="/__/firebase/init.js"></script>-->
<script>
<!--  // Initialize Firebase-->
  var config = {
    apiKey: "AIzaSyCfCMSzugyV69uoSyh3LidMRSNvhJ7iHpo",
    authDomain: "watchtogether-555f5.firebaseapp.com",
    databaseURL: "https://watchtogether-555f5.firebaseio.com",
    projectId: "watchtogether-555f5",
    storageBucket: "watchtogether-555f5.appspot.com",
    messagingSenderId: "382915300377",
    appId: "1:382915300377:web:a869162cebcab92e962e88",
    measurementId: "G-7E1KVTNEEV"
  };

  var connections  = 0;

  firebase.initializeApp(config);

    // Get a reference to the database service
    // var database = firebase.database();

  var connectedRef = firebase.database().ref(".info/connected");

  connectedRef.on("value", (snap) => {
    if (snap.val() === true) {
      connections++;
      console.log('Connected: %s connections', connections);
    } else {
      connections--;
      console.log('Disconnected: %s connections', connections);
    }
  });


  var refPlay  = firebase.database().ref().child('Play');
  refPlay.on('value', snap => {
    console.log(snap.val());
    if(snap.val() === 'True') {
        player.playVideo();
    }
  });

  var refPause = firebase.database().ref().child('Pause');
  refPause.on('value', snap => {
    console.log(snap.val());
    if(snap.val() === 'True') {
      player.pauseVideo();
    }
  });

  var refSeekTime = firebase.database().ref().child('SeekTime');
  refSeekTime.on('value', snap => {
    console.log(snap.val());
    var vidTime = player.getCurrentTime();
    if (vidTime < snap.val() - 0.2 || vidTime > snap.val() + 0.2) {
      player.seekTo(snap.val());
      player.playVideo();
    }
  });

</script>


<!--<div id="player" style="pointer-events: none"></div>-->
<!--<div class="controls">-->
<!--    <button>Play</button>-->
<!--    <button>Pause</button>-->
<!--    <label for="slider">Seek</label><input id="slider" type="range" min="0" max="100" value="0" step="1" oninput="changeTime(this)" />-->
<!--</div>-->




<!-- javascript files -->
<script  src="youtube.js"></script>




</html>


